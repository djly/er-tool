(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{263:(e,a,t)=>{"use strict";function l(){return{skillLevels:[1,1,1],starLevel:1,setBonuses:[]}}t.d(a,{Ay:()=>p,RG:()=>l});let r=(0,t(6439).Z0)({name:"player",initialState:{id:null,name:null,email:null,characters:{},isLoggedIn:!1},reducers:{login(e,a){e.id=a.payload.id,e.name=a.payload.name,e.email=a.payload.email,e.isLoggedIn=!0},logout(e){e.id=null,e.name=null,e.email=null,e.isLoggedIn=!1},updatePlayer(e,a){a.payload.name&&(e.name=a.payload.name),a.payload.email&&(e.email=a.payload.email)},addCharacter(e,a){console.log("Adding character with ID ".concat(a.payload.characterId," to player's roster.")),e.characters[a.payload.characterId]||(a.payload.ci?e.characters[a.payload.characterId]=a.payload.ci:e.characters[a.payload.characterId]=l())},removeCharacter(e,a){console.log("Removing character with ID ".concat(a.payload," from player's roster.")),delete e.characters[a.payload]},clearCharacters(e){console.log("Clearing all characters from player's roster."),e.characters={}},setCharacterSkillLevel(e,a){let{characterId:t,skillIndex:r,level:s}=a.payload;console.log("Setting skill level for character ".concat(t,", skill index ").concat(r,", level ").concat(s)),e.characters[t]||(e.characters[t]=l()),e.characters[t].skillLevels[r]=s>5?5:s<1?1:s},setCharacterStarLevel(e,a){let{characterId:t,starLevel:r}=a.payload;e.characters[t]||(e.characters[t]=l()),e.characters[t].starLevel=r}}}),{login:s,logout:n,updatePlayer:i,addCharacter:o,removeCharacter:c,clearCharacters:d,setCharacterSkillLevel:u,setCharacterStarLevel:h}=r.actions,p=r.reducer},1254:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>z});var l=t(5155),r=t(6766),s=t(2115),n=t(5695),i=t(3974),o=t(2614),c=t(9434);function d(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function u(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function h(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...t})}function p(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...t})}function m(e){let{className:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...t})}var x=t(2493);let g=(0,t(2085).F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=s.createContext({size:"default",variant:"default"});function v(e){let{className:a,variant:t,size:r,children:s,...n}=e;return(0,l.jsx)(x.bL,{"data-slot":"toggle-group","data-variant":t,"data-size":r,className:(0,c.cn)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a),...n,children:(0,l.jsx)(f.Provider,{value:{variant:t,size:r},children:s})})}function b(e){let{className:a,children:t,variant:r,size:n,...i}=e,o=s.useContext(f);return(0,l.jsx)(x.q7,{"data-slot":"toggle-group-item","data-variant":o.variant||r,"data-size":o.size||n,className:(0,c.cn)(g({variant:o.variant||r,size:o.size||n}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",a),...i,children:t})}function w(e){let{className:a,type:t,...r}=e;return(0,l.jsx)("input",{type:t,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...r})}var y=t(4884);function j(e){let{className:a,...t}=e;return(0,l.jsx)(y.bL,{"data-slot":"switch",className:(0,c.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,l.jsx)(y.zi,{"data-slot":"switch-thumb",className:(0,c.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var k=t(5845),C=t(8564);let N=(0,s.createContext)(null),S=e=>{var a,t;let{index:r,size:n=20,className:i,icon:o=(0,l.jsx)(C.A,{})}=e,{value:d,readOnly:u,hoverValue:h,focusedStar:p,handleValueChange:m,handleKeyDown:x,setHoverValue:g,setFocusedStar:f}=(()=>{let e=(0,s.useContext)(N);if(!e)throw Error("useRating must be used within a Rating component");return e})(),v=null!=r?r:0,b=v<(null!=(t=null!=(a=null!=h?h:p)?a:d)?t:0),w=-1;u||(w=d===v+1?0:-1);let y=(0,s.useCallback)(e=>{m(e,v+1)},[m,v]),j=(0,s.useCallback)(()=>{u||g(v+1)},[u,g,v]),k=(0,s.useCallback)(()=>{f(v+1)},[f,v]),S=(0,s.useCallback)(()=>{f(null)},[f]);return(0,l.jsx)("button",{className:(0,c.cn)("rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","p-0.5",u&&"cursor-default",i),disabled:u,onBlur:S,onClick:y,onFocus:k,onKeyDown:x,onMouseEnter:j,tabIndex:w,type:"button",children:(0,s.cloneElement)(o,{size:n,className:(0,c.cn)("transition-colors duration-200",b&&"fill-current",!u&&"cursor-pointer"),"aria-hidden":"true"})})},I=e=>{let{value:a,onValueChange:t,defaultValue:r=0,onChange:n,readOnly:i=!1,className:o,children:d,...u}=e,[h,p]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),g=(0,s.useRef)(null),[f,v]=(0,k.i)({defaultProp:r,prop:a,onChange:t}),b=(0,s.useCallback)((e,a)=>{i||(null==n||n(e,a),null==v||v(a))},[i,n,v]),w=(0,s.useCallback)(e=>{if(i)return;let a=s.Children.count(d),t=null!==m?m:null!=f?f:0;switch(e.key){case"ArrowRight":t=e.shiftKey||e.metaKey?a:Math.min(a,t+1);break;case"ArrowLeft":t=e.shiftKey||e.metaKey?1:Math.max(1,t-1);break;default:return}e.preventDefault(),x(t),b(e,t)},[m,f,d,i,b]);return(0,s.useEffect)(()=>{if(null!==m&&g.current){var e;null==(e=g.current.querySelectorAll("button")[m-1])||e.focus()}},[m]),(0,l.jsx)(N.Provider,{value:{value:null!=f?f:0,readOnly:i,hoverValue:h,focusedStar:m,handleValueChange:b,handleKeyDown:w,setHoverValue:p,setFocusedStar:x},children:(0,l.jsx)("div",{"aria-label":"Rating",className:(0,c.cn)("inline-flex items-center gap-0.5",o),onMouseLeave:()=>p(null),ref:g,role:"radiogroup",...u,children:s.Children.map(d,(e,a)=>e?(0,s.cloneElement)(e,{index:a}):null)})})};var L=t(263),R=t(8309),_=t(9103);function z(){let[e,a]=(0,s.useState)(""),[t,c]=(0,s.useState)([]),[x,g]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[N,z]=(0,s.useState)(""),[V,A]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!0),[O]=(0,i.d7)(e,300);(0,n.useSearchParams)();let U=(0,n.useRouter)(),M=(0,o.jL)(),D=(0,o.GV)(e=>e.player);(0,o.GV)(e=>e.data),(0,s.useEffect)(()=>{fetch("./data/db.json").then(e=>e.json()).then(e=>{let a=e.characters;c(a),g(a),P(!1)})},[]),(0,s.useEffect)(()=>{O?U.push("?query=".concat(O),{scroll:!1}):U.push("",{scroll:!1})},[O,U]);let G={SSR:"bg-linear-to-t to-[#00000] from-amber-400",SR:"bg-linear-to-t to-[#00000] to-purple-400",R:"bg-linear-to-t to-[#00000] to-blue-400","*":"bg-linear-to-t to-[#00000] to-gray-400"};return(0,s.useEffect)(()=>{let e;e=t,f.length>0&&(e=e.filter(e=>f.includes(e.element.toLowerCase()))),k.length>0&&(e=e.filter(e=>k.includes(e.rarity.toLowerCase()))),N&&N.length>0&&("owned"===N?e=e.filter(e=>D.characters[e.unitId]):"unowned"===N&&(e=e.filter(e=>!D.characters[e.unitId]))),O&&(e=e.filter(e=>e.name.toLowerCase().includes(O.toLowerCase()))),g(e)},[t,f,k,N,O,D.characters]),(0,l.jsx)("div",{className:"grid grid-rows-1 items-center justify-items-center min-h-screen p-8 pt-4 pb-20 font-[family-name:var(--font-geist-sans)]",children:(0,l.jsxs)("main",{className:"flex flex-col gap-[32px] items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("div",{className:"font-semibold mb-1",children:"Filter:"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-[12px] flex-grow w-full sm:flex-row flex-col ",children:[(0,l.jsx)(w,{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Search...",className:"w-full sm:w-auto"}),(0,l.jsxs)(v,{variant:"outline",type:"multiple",defaultValue:f,value:f,onValueChange:e=>y(e),className:"w-full sm:w-auto",children:[(0,l.jsx)(b,{value:"constant",children:(0,l.jsx)("div",{className:"w-20",children:(0,l.jsx)("img",{src:"./elements/ele_constant.webp",alt:"Constant",width:20,height:20})})}),(0,l.jsx)(b,{value:"disorder",children:(0,l.jsx)("img",{src:"./elements/ele_disorder.webp",width:20,height:20,alt:"Disorder"})}),(0,l.jsx)(b,{value:"hollow",children:(0,l.jsx)("img",{src:"./elements/ele_hollow.webp",width:20,height:20,alt:"Hollow"})}),(0,l.jsx)(b,{value:"odd",children:(0,l.jsx)("img",{src:"./elements/ele_odd.webp",width:20,height:20,alt:"Odd"})}),(0,l.jsx)(b,{value:"reason",children:(0,l.jsx)("img",{src:"./elements/ele_reason.webp",width:20,height:20,alt:"Reason"})})]}),(0,l.jsxs)(v,{variant:"outline",type:"multiple",defaultValue:k,value:k,onValueChange:e=>C(e),className:"w-full sm:w-auto",children:[(0,l.jsx)(b,{value:"ssr",children:"SSR"}),(0,l.jsx)(b,{value:"sr",children:"SR"}),(0,l.jsx)(b,{value:"r",children:"R"})]}),(0,l.jsxs)(v,{variant:"outline",type:"single",defaultValue:N,value:N,onValueChange:e=>z(e),className:"w-full sm:w-auto",children:[(0,l.jsx)(b,{value:"owned",children:"Owned"}),(0,l.jsx)(b,{value:"unowned",children:"Unowned"})]}),(0,l.jsx)("label",{className:"w-full sm:w-auto",children:"Edit Mode"}),(0,l.jsx)(j,{checked:V,onCheckedChange:e=>A(e)})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 justify-between w-full",children:x.map(e=>{var a,t;let s=D.characters.hasOwnProperty(e.unitId),n="unowned"===N||"unowned"!==N&&!s;return(0,l.jsxs)(d,{className:"flex flex-col min-w-0"+(n?" opacity-30":""),children:[(0,l.jsxs)(u,{className:"text-center",children:[(0,l.jsx)(h,{className:"text-center",children:(0,l.jsxs)("a",{className:"flex",target:"_blank",href:"https://www.prydwen.gg/etheria-restart/characters/"+e.slug,children:[e.name,(0,l.jsx)(r.default,{src:"./favicon-32x32.png",width:15,height:15,alt:"prydwen"})]})}),V?(0,l.jsx)(j,{className:"scale-150 ",checked:s,onCheckedChange:a=>{if(a){let a=(0,L.RG)();a.starLevel="SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,M({type:"player/addCharacter",payload:{characterId:e.unitId,ci:a}})}else M({type:"player/removeCharacter",payload:e.unitId})}}):""]}),(0,l.jsxs)(m,{className:"flex flex-col items-center gap-2 text-center",children:[(0,l.jsx)(p,{}),(0,l.jsxs)("div",{className:"relative items-center "+G[e.rarity],style:{height:"136px",width:"100px"},children:[V?"":(0,l.jsx)("div",{className:"absolute bottom-0 left-0",children:(0,l.jsx)(I,{defaultValue:"SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,value:null==(a=D.characters[e.unitId])?void 0:a.starLevel,readOnly:!0,children:Array.from({length:6}).map((e,a)=>(0,l.jsx)(S,{size:11},a))})}),(0,l.jsx)("div",{className:"absolute top-0 right-0",children:(0,l.jsx)(r.default,{src:"./elements/ele_".concat(e.element.toLowerCase(),".webp"),width:"30",height:"30",alt:e.element})}),(0,l.jsx)("div",{className:"top-0 left-0 w-full text-center",children:(0,l.jsx)(r.default,{src:"./characters/".concat(e.slug,"_card.webp"),width:"100",height:"136",alt:e.name})})]}),V?(0,l.jsx)(I,{defaultValue:"SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,value:null==(t=D.characters[e.unitId])?void 0:t.starLevel,onValueChange:a=>{M({type:"player/setCharacterStarLevel",payload:{characterId:e.unitId,starLevel:a}})},children:Array.from({length:6}).map((e,a)=>(0,l.jsx)(S,{},a))}):"",D.characters.hasOwnProperty(e.unitId)&&(0,l.jsx)("div",{className:"",children:V?(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 w-full",children:[1,2,3].map(a=>{var t,r;let s=null!=(r=null==(t=D.characters[e.unitId])?void 0:t.skillLevels[a-1])?r:1;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsxs)("label",{htmlFor:"",className:"text-xs",children:["Skill ",a]}),(0,l.jsxs)("div",{className:"flex items-center border p-1.5 w-full",children:[(0,l.jsx)("button",{type:"button",disabled:1==s,onClick:()=>{M({type:"player/setCharacterSkillLevel",payload:{characterId:e.unitId,skillIndex:a-1,level:s-1}})},"aria-label":"decrease",className:"group disabled:cursor-not-allowed disabled:opacity-50",children:(0,l.jsx)(R.A,{className:"h-4 w-4 group-hover:text-red-400"})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("input",{name:"characterId"+e.unitId+"skill"+a,min:1,max:5,step:1,readOnly:!0,type:"number",className:"no-steps w-fit border-0 bg-transparent p-0 text-center no-steps",value:s})}),(0,l.jsx)("button",{type:"button",disabled:5==s,onClick:()=>{M({type:"player/setCharacterSkillLevel",payload:{characterId:e.unitId,skillIndex:a-1,level:s+1}})},"aria-label":"increase",className:"group disabled:cursor-not-allowed disabled:opacity-50",children:(0,l.jsx)(_.A,{className:"h-4 w-4 group-hover:text-green-400"})})]})]},a)})}):(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)("label",{children:"Skills"}),[1,2,3].map(a=>{var t,r;let s=null!=(r=null==(t=D.characters[e.unitId])?void 0:t.skillLevels[a-1])?r:1,n=s>=5?" bg-red-500 text-white":s>=4?" bg-yellow-500 text-white":s>=3?" bg-blue-500 text-white":s>=2?" bg-green-500 text-white":" text-white",i=s>=5?"MAX":s;return(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs"+n,title:"Skill ".concat(a," Level: ").concat(i),children:null!=i?i:1},a)})]})})]})]},e.unitId)})})]})})}},2614:(e,a,t)=>{"use strict";t.d(a,{GV:()=>s,jL:()=>r});var l=t(4540);let r=l.wA.withTypes(),s=l.d4.withTypes();l.Pj.withTypes()},4811:(e,a,t)=>{Promise.resolve().then(t.bind(t,1254))},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s});var l=t(2596),r=t(9688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,l.$)(a))}}},e=>{e.O(0,[517,762,197,441,964,358],()=>e(e.s=4811)),_N_E=e.O()}]);