(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{263:(e,a,t)=>{"use strict";function r(){return{skillLevels:[1,1,1],starLevel:1,setBonuses:[]}}t.d(a,{Ay:()=>p,RG:()=>r});let l=(0,t(6439).Z0)({name:"player",initialState:{id:null,name:null,email:null,characters:{},isLoggedIn:!1},reducers:{login(e,a){e.id=a.payload.id,e.name=a.payload.name,e.email=a.payload.email,e.isLoggedIn=!0},logout(e){e.id=null,e.name=null,e.email=null,e.isLoggedIn=!1},updatePlayer(e,a){a.payload.name&&(e.name=a.payload.name),a.payload.email&&(e.email=a.payload.email)},addCharacter(e,a){console.log("Adding character with ID ".concat(a.payload.characterId," to player's roster.")),e.characters[a.payload.characterId]||(a.payload.ci?e.characters[a.payload.characterId]=a.payload.ci:e.characters[a.payload.characterId]=r())},removeCharacter(e,a){console.log("Removing character with ID ".concat(a.payload," from player's roster.")),delete e.characters[a.payload]},clearCharacters(e){console.log("Clearing all characters from player's roster."),e.characters={}},setCharacterSkillLevel(e,a){let{characterId:t,skillIndex:l,level:n}=a.payload;console.log("Setting skill level for character ".concat(t,", skill index ").concat(l,", level ").concat(n)),e.characters[t]||(e.characters[t]=r()),e.characters[t].skillLevels[l]=n>5?5:n<1?1:n},setCharacterStarLevel(e,a){let{characterId:t,starLevel:l}=a.payload;e.characters[t]||(e.characters[t]=r()),e.characters[t].starLevel=l}}}),{login:n,logout:s,updatePlayer:i,addCharacter:c,removeCharacter:o,clearCharacters:d,setCharacterSkillLevel:u,setCharacterStarLevel:h}=l.actions,p=l.reducer},1254:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>R});var r=t(5155),l=t(6766),n=t(2115),s=t(5695),i=t(3974),c=t(2614),o=t(9434);function d(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function u(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function h(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-semibold",a),...t})}function p(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground text-sm",a),...t})}function g(e){let{className:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",a),...t})}var x=t(2493);let m=(0,t(2085).F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=n.createContext({size:"default",variant:"default"});function v(e){let{className:a,variant:t,size:l,children:n,...s}=e;return(0,r.jsx)(x.bL,{"data-slot":"toggle-group","data-variant":t,"data-size":l,className:(0,o.cn)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a),...s,children:(0,r.jsx)(f.Provider,{value:{variant:t,size:l},children:n})})}function b(e){let{className:a,children:t,variant:l,size:s,...i}=e,c=n.useContext(f);return(0,r.jsx)(x.q7,{"data-slot":"toggle-group-item","data-variant":c.variant||l,"data-size":c.size||s,className:(0,o.cn)(m({variant:c.variant||l,size:c.size||s}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",a),...i,children:t})}function w(e){let{className:a,type:t,...l}=e;return(0,r.jsx)("input",{type:t,"data-slot":"input",className:(0,o.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}var y=t(4884);function j(e){let{className:a,...t}=e;return(0,r.jsx)(y.bL,{"data-slot":"switch",className:(0,o.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,r.jsx)(y.zi,{"data-slot":"switch-thumb",className:(0,o.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var C=t(5845),k=t(8564);let N=(0,n.createContext)(null),S=e=>{var a,t;let{index:l,size:s=20,className:i,icon:c=(0,r.jsx)(k.A,{})}=e,{value:d,readOnly:u,hoverValue:h,focusedStar:p,handleValueChange:g,handleKeyDown:x,setHoverValue:m,setFocusedStar:f}=(()=>{let e=(0,n.useContext)(N);if(!e)throw Error("useRating must be used within a Rating component");return e})(),v=null!=l?l:0,b=v<(null!=(t=null!=(a=null!=h?h:p)?a:d)?t:0),w=-1;u||(w=d===v+1?0:-1);let y=(0,n.useCallback)(e=>{g(e,v+1)},[g,v]),j=(0,n.useCallback)(()=>{u||m(v+1)},[u,m,v]),C=(0,n.useCallback)(()=>{f(v+1)},[f,v]),S=(0,n.useCallback)(()=>{f(null)},[f]);return(0,r.jsx)("button",{className:(0,o.cn)("rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","p-0.5",u&&"cursor-default",i),disabled:u,onBlur:S,onClick:y,onFocus:C,onKeyDown:x,onMouseEnter:j,tabIndex:w,type:"button",children:(0,n.cloneElement)(c,{size:s,className:(0,o.cn)("transition-colors duration-200",b&&"fill-current",!u&&"cursor-pointer"),"aria-hidden":"true"})})},L=e=>{let{value:a,onValueChange:t,defaultValue:l=0,onChange:s,readOnly:i=!1,className:c,children:d,...u}=e,[h,p]=(0,n.useState)(null),[g,x]=(0,n.useState)(null),m=(0,n.useRef)(null),[f,v]=(0,C.i)({defaultProp:l,prop:a,onChange:t}),b=(0,n.useCallback)((e,a)=>{i||(null==s||s(e,a),null==v||v(a))},[i,s,v]),w=(0,n.useCallback)(e=>{if(i)return;let a=n.Children.count(d),t=null!==g?g:null!=f?f:0;switch(e.key){case"ArrowRight":t=e.shiftKey||e.metaKey?a:Math.min(a,t+1);break;case"ArrowLeft":t=e.shiftKey||e.metaKey?1:Math.max(1,t-1);break;default:return}e.preventDefault(),x(t),b(e,t)},[g,f,d,i,b]);return(0,n.useEffect)(()=>{if(null!==g&&m.current){var e;null==(e=m.current.querySelectorAll("button")[g-1])||e.focus()}},[g]),(0,r.jsx)(N.Provider,{value:{value:null!=f?f:0,readOnly:i,hoverValue:h,focusedStar:g,handleValueChange:b,handleKeyDown:w,setHoverValue:p,setFocusedStar:x},children:(0,r.jsx)("div",{"aria-label":"Rating",className:(0,o.cn)("inline-flex items-center gap-0.5",c),onMouseLeave:()=>p(null),ref:m,role:"radiogroup",...u,children:n.Children.map(d,(e,a)=>e?(0,n.cloneElement)(e,{index:a}):null)})})};var I=t(263);function R(){let[e,a]=(0,n.useState)(""),[t,o]=(0,n.useState)([]),[x,m]=(0,n.useState)([]),[f,y]=(0,n.useState)([]),[C,k]=(0,n.useState)([]),[N,R]=(0,n.useState)(""),[_,z]=(0,n.useState)(!1),[V,E]=(0,n.useState)(!0),[A]=(0,i.d7)(e,300);(0,s.useSearchParams)();let P=(0,s.useRouter)(),U=(0,c.jL)(),M=(0,c.GV)(e=>e.player);(0,c.GV)(e=>e.data),(0,n.useEffect)(()=>{fetch("./data/db.json").then(e=>e.json()).then(e=>{let a=e.characters;o(a),m(a),E(!1)})},[]),(0,n.useEffect)(()=>{A?P.push("?query=".concat(A),{scroll:!1}):P.push("",{scroll:!1})},[A,P]);let O={SSR:"bg-linear-to-t to-[#00000] from-amber-400",SR:"bg-linear-to-t to-[#00000] to-purple-400",R:"bg-linear-to-t to-[#00000] to-blue-400","*":"bg-linear-to-t to-[#00000] to-gray-400"};return(0,n.useEffect)(()=>{let e;e=t,f.length>0&&(e=e.filter(e=>f.includes(e.element.toLowerCase()))),C.length>0&&(e=e.filter(e=>C.includes(e.rarity.toLowerCase()))),N&&N.length>0&&("owned"===N?e=e.filter(e=>M.characters[e.unitId]):"unowned"===N&&(e=e.filter(e=>!M.characters[e.unitId]))),A&&(e=e.filter(e=>e.name.toLowerCase().includes(A.toLowerCase()))),m(e)},[t,f,C,N,A,M.characters]),(0,r.jsx)("div",{className:"grid grid-rows-1 items-center justify-items-center min-h-screen p-8 pt-4 pb-20 font-[family-name:var(--font-geist-sans)]",children:(0,r.jsxs)("main",{className:"flex flex-col gap-[32px] items-center",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8 justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:["Filter:",(0,r.jsxs)("div",{className:"flex gap-[12px] flex-grow",children:[(0,r.jsx)(w,{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Search..."}),(0,r.jsxs)(v,{variant:"outline",type:"multiple",defaultValue:f,value:f,onValueChange:e=>y(e),children:[(0,r.jsx)(b,{value:"constant",children:(0,r.jsx)("div",{className:"w-20",children:(0,r.jsx)("img",{src:"./elements/ele_constant.webp",alt:"Constant",width:20,height:20})})}),(0,r.jsxs)(b,{value:"disorder",children:[(0,r.jsx)("img",{src:"./elements/ele_disorder.webp",width:20,height:20,alt:"Constant"})," "]}),(0,r.jsxs)(b,{value:"hollow",children:[(0,r.jsx)("img",{src:"./elements/ele_hollow.webp",width:20,height:20,alt:"Constant"})," "]}),(0,r.jsxs)(b,{value:"odd",children:[(0,r.jsx)("img",{src:"./elements/ele_odd.webp",width:20,height:20,alt:"Constant"})," "]}),(0,r.jsxs)(b,{value:"reason",children:[(0,r.jsx)("img",{src:"./elements/ele_reason.webp",width:20,height:20,alt:"Constant"})," "]})]}),(0,r.jsxs)(v,{variant:"outline",type:"multiple",defaultValue:C,value:C,onValueChange:e=>k(e),children:[(0,r.jsx)(b,{value:"ssr",children:"SSR"}),(0,r.jsx)(b,{value:"sr",children:"SR"}),(0,r.jsx)(b,{value:"r",children:"R"})]}),(0,r.jsxs)(v,{variant:"outline",type:"single",defaultValue:N,value:N,onValueChange:e=>R(e),children:[(0,r.jsx)(b,{value:"owned",children:"Owned"}),(0,r.jsx)(b,{value:"unowned",children:"Unowned"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col align-start ml-auto text-right",children:[(0,r.jsx)("label",{className:"text-right",children:"Edit Mode"}),(0,r.jsx)(j,{checked:_,onCheckedChange:e=>z(e)})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-6 grid-cols-1sm gap-4 justify-between w-full",children:x.map(e=>{var a,t;let n=M.characters.hasOwnProperty(e.unitId),s="unowned"===N||"unowned"!==N&&!n;return(0,r.jsxs)(d,{className:"flex flex-col"+(s?" opacity-30":""),children:[(0,r.jsxs)(u,{className:"text-center",children:[(0,r.jsx)(h,{className:"text-center",children:(0,r.jsxs)("a",{className:"flex",target:"_blank",href:"https://www.prydwen.gg/etheria-restart/characters/"+e.slug,children:[e.name,(0,r.jsx)(l.default,{src:"./favicon-32x32.png",width:15,height:15,alt:"prydwen"})]})}),_?(0,r.jsx)(j,{className:"scale-150 ",checked:n,onCheckedChange:a=>{if(a){let a=(0,I.RG)();a.starLevel="SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,U({type:"player/addCharacter",payload:{characterId:e.unitId,ci:a}})}else U({type:"player/removeCharacter",payload:e.unitId})}}):""]}),(0,r.jsxs)(g,{className:"flex flex-col items-center gap-2 text-center",children:[(0,r.jsx)(p,{}),(0,r.jsxs)("div",{className:"relative items-center "+O[e.rarity],style:{height:"136px",width:"100px"},children:[_?"":(0,r.jsx)("div",{className:"absolute bottom-0 left-0",children:(0,r.jsx)(L,{defaultValue:"SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,value:null==(a=M.characters[e.unitId])?void 0:a.starLevel,readOnly:!0,children:Array.from({length:6}).map((e,a)=>(0,r.jsx)(S,{size:11},a))})}),(0,r.jsx)("div",{className:"absolute top-0 right-0",children:(0,r.jsx)(l.default,{src:"./elements/ele_".concat(e.element.toLowerCase(),".webp"),width:"30",height:"30",alt:e.element})}),(0,r.jsx)("div",{className:"top-0 left-0 w-full text-center",children:(0,r.jsx)(l.default,{src:"./characters/".concat(e.slug,"_card.webp"),width:"100",height:"136",alt:e.name})})]}),_?(0,r.jsx)(L,{defaultValue:"SSR"===e.rarity.toUpperCase()?4:"SR"===e.rarity.toUpperCase()?3:2,value:null==(t=M.characters[e.unitId])?void 0:t.starLevel,onValueChange:a=>{U({type:"player/setCharacterStarLevel",payload:{characterId:e.unitId,starLevel:a}})},children:Array.from({length:6}).map((e,a)=>(0,r.jsx)(S,{},a))}):"",M.characters.hasOwnProperty(e.unitId)&&(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("label",{children:"Skills"}),_?(0,r.jsx)("div",{className:"flex flex-row gap-2",children:[1,2,3].map(a=>{var t,l;return(0,r.jsx)(w,{name:"skill".concat(a),type:"number",placeholder:"Skill ".concat(a),min:0,max:5,className:"w-16",value:null!=(l=null==(t=M.characters[e.unitId])?void 0:t.skillLevels[a-1])?l:"1",onChange:t=>{let r=Number(t.target.value);U({type:"player/setCharacterSkillLevel",payload:{characterId:e.unitId,skillIndex:a-1,level:r}})}},a)})}):(0,r.jsx)("div",{className:"flex flex-row gap-2",children:[1,2,3].map(a=>{var t,l;let n=null!=(l=null==(t=M.characters[e.unitId])?void 0:t.skillLevels[a-1])?l:1,s=n>=5?" bg-red-500 text-white":n>=4?" bg-yellow-500 text-white":n>=3?" bg-blue-500 text-white":n>=2?" bg-green-500 text-white":" text-white",i=n>=5?"MAX":n;return(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs"+s,title:"Skill ".concat(a," Level: ").concat(i),children:null!=i?i:1},a)})})]})]})]},e.unitId)})})]})})}},2614:(e,a,t)=>{"use strict";t.d(a,{GV:()=>n,jL:()=>l});var r=t(4540);let l=r.wA.withTypes(),n=r.d4.withTypes();r.Pj.withTypes()},4811:(e,a,t)=>{Promise.resolve().then(t.bind(t,1254))},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var r=t(2596),l=t(9688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,l.QP)((0,r.$)(a))}}},e=>{e.O(0,[517,762,891,441,964,358],()=>e(e.s=4811)),_N_E=e.O()}]);